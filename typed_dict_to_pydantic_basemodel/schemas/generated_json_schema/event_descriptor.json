{
   "type": "object",
   "properties": {
      "data_keys": {
         "type": "object",
         "additionalProperties": {
            "$ref": "#/$defs/DataKey"
         },
         "title": "data_keys",
         "description": "This describes the data in the Event Documents."
      },
      "uid": {
         "type": "string",
         "title": "uid",
         "description": "Globally unique ID for this event descriptor."
      },
      "run_start": {
         "type": "string",
         "description": "Globally unique ID of this run's 'start' document."
      },
      "time": {
         "type": "number",
         "description": "Creation time of the document as unix epoch time."
      },
      "hints": {
         "type": [
            "object",
            "null"
         ],
         "properties": {
            "__root__": {
               "title": "Object Hints"
            }
         },
         "required": [
            "__root__"
         ],
         "additionalProperties": false
      },
      "object_keys": {
         "type": [
            "object",
            "null"
         ],
         "description": "Maps a Device/Signal name to the names of the entries it produces in data_keys."
      },
      "name": {
         "type": [
            "string",
            "null"
         ],
         "description": "A human-friendly name for this data stream, such as 'primary' or 'baseline'."
      },
      "configuration": {
         "type": [
            "object",
            "null"
         ],
         "additionalProperties": {
            "type": "object",
            "properties": {
               "data": {
                  "type": [
                     "object",
                     "null"
                  ],
                  "description": "The actual measurement data"
               },
               "timestamps": {
                  "type": [
                     "object",
                     "null"
                  ],
                  "description": "The timestamps of the individual measurement data"
               },
               "data_keys": {
                  "type": [
                     "object",
                     "null"
                  ],
                  "additionalProperties": {
                     "$ref": "#/$defs/DataKey"
                  },
                  "description": "This describes the data stored alongside it in this configuration object."
               }
            },
            "required": [
               "data",
               "timestamps",
               "data_keys"
            ],
            "additionalProperties": false
         },
         "description": "Readings of configurational fields necessary for interpreting data in the Events."
      }
   },
   "required": [
      "data_keys",
      "uid",
      "run_start",
      "time",
      "hints",
      "object_keys",
      "name",
      "configuration"
   ],
   "additionalProperties": false,
   "$defs": {
      "DataKey": {
         "type": "object",
         "properties": {
            "dtype": {
               "type": "string",
               "enum": [
                  "string",
                  "number",
                  "array",
                  "boolean",
                  "integer"
               ],
               "description": "The type of the data in the event."
            },
            "external": {
               "type": [
                  "string",
                  "null"
               ],
               "pattern": "^[A-Z]+:?",
               "description": "Where the data is stored if it is stored external to the events."
            },
            "shape": {
               "type": "array",
               "items": {
                  "type": "integer"
               },
               "description": "The shape of the data.  Empty list indicates scalar data."
            },
            "dims": {
               "type": [
                  "array",
                  "null"
               ],
               "items": {
                  "type": "string"
               },
               "description": "The names for dimensions of the data. Null or empty list if scalar data"
            },
            "source": {
               "type": "string",
               "description": "The source (ex piece of hardware) of the data."
            },
            "object_name": {
               "type": [
                  "string",
                  "null"
               ],
               "description": "The name of the object this key was pulled from."
            }
         },
         "required": [
            "dtype",
            "external",
            "shape",
            "dims",
            "source",
            "object_name"
         ],
         "additionalProperties": false
      }
   },
   "$schema": "http://json-schema.org/draft/2020-12/schema#",
   "description": "Document to describe the data captured in the associated event documents",
   "title": "event_descriptor"
}